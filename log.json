{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:36:07.527Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:36:07.670Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:36:07.707Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:07.708Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:36:07.708Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:36:07.710Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:36:07.714Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:07.715Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:36:07.715Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:36:07.716Z"}
{"level":"info","message":"Processing : GET on : /photos/5a45d447d406a27dccdbdf45","timestamp":"2017-12-29T05:36:07.747Z"}
{"level":"info","message":"Processing : GET on : /photos/","timestamp":"2017-12-29T05:36:07.779Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-29T05:36:07.779Z"}
{"level":"info","message":"Processing : GET on : /photos/undefined","timestamp":"2017-12-29T05:36:07.806Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:07.806Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:36:07.806Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:36:07.807Z"}
{"level":"info","message":"Processing : DELETE on : /photos/5a45d447d406a27dccdbdf4b","timestamp":"2017-12-29T05:36:07.833Z"}
{"level":"info","message":"Processing : DELETE on : /photos/badId","timestamp":"2017-12-29T05:36:07.866Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:07.868Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"photo\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"photo\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:2248:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-29T05:36:07.869Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-29T05:36:07.869Z"}
{"level":"info","message":"Processing : DELETE on : /photos/5a45d447d406a27dccdbdf4f","timestamp":"2017-12-29T05:36:07.895Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:07.896Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:36:07.896Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:36:07.897Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:36:07.901Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:36:08.139Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:36:08.144Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:36:08.196Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.197Z"}
{"message":"Username, email, and password are required in order to create an account","stack":"BadRequestError: Username, email, and password are required in order to create an account\n    at Object.<anonymous>.authRouter.post (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/route/auth-router.js:14:11)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:224:16)\n    at done (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:36:08.197Z"}
{"level":"info","message":"Responding with a 400 status and message: Username, email, and password are required in order to create an account","timestamp":"2017-12-29T05:36:08.198Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:36:08.229Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.250Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Cassidy.Bechtelar13\" }","op":{"username":"Cassidy.Bechtelar13","email":"anotherthing@gmail.com","passwordHash":"$2a$08$DEC7yRz3Ob7ZHi3ybRLkjum3QdlQX24iFBnI7nSUXUu99gsFCWpRq","tokenSeed":"5d20c9a4421cf5299bc7ceb36dbab63ea0cbdc3b33f346b9a8289a5c5a46fd23dfcd15271ccdbb08febeac593421f844b989691b97f57c09716139a6f7c36027","_id":"5a45d448b81def7dccb2f659","created":"2017-12-29T05:36:08.248Z","__v":0}}
{"level":"info","message":"responding with a 409 status code","timestamp":"2017-12-29T05:36:08.256Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:36:08.284Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:36:08.310Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.310Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:36:08.310Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:36:08.311Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:36:08.336Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.338Z"}
{"message":"NOT FOUND","stack":"NotFoundError: NOT FOUND\n    at Account.findOne.then.account (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/basic-auth-middleware.js:24:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-29T05:36:08.338Z"}
{"level":"info","message":"Responding with a 404 status and message: NOT FOUND","timestamp":"2017-12-29T05:36:08.338Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:36:08.341Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:36:08.569Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:36:08.695Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:36:08.710Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.710Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:36:08.710Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:36:08.712Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:36:08.717Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.717Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:36:08.717Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:36:08.718Z"}
{"level":"info","message":"Processing : GET on : /friends/5a45d4484d7f237dcc03578e","timestamp":"2017-12-29T05:36:08.750Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-29T05:36:08.782Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.784Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-29T05:36:08.784Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-29T05:36:08.785Z"}
{"level":"info","message":"Processing : GET on : /friends/5a45d4484d7f237dcc035792","timestamp":"2017-12-29T05:36:08.812Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:36:08.812Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:36:08.812Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:36:08.813Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:36:08.820Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:50:25.138Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:50:25.212Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:50:25.250Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.252Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:50:25.252Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:50:25.255Z"}
{"level":"info","message":"Processing : POST on : /photos","timestamp":"2017-12-29T05:50:25.263Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.264Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:50:25.264Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:50:25.265Z"}
{"level":"info","message":"Processing : GET on : /photos/5a45d7a1cd5f7e7e7f60e3bb","timestamp":"2017-12-29T05:50:25.308Z"}
{"level":"info","message":"Processing : GET on : /photos/","timestamp":"2017-12-29T05:50:25.341Z"}
{"level":"info","message":"Returning a 404 status from * route","timestamp":"2017-12-29T05:50:25.342Z"}
{"level":"info","message":"Processing : GET on : /photos/undefined","timestamp":"2017-12-29T05:50:25.368Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.369Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:50:25.369Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:50:25.370Z"}
{"level":"info","message":"Processing : DELETE on : /photos/5a45d7a1cd5f7e7e7f60e3c1","timestamp":"2017-12-29T05:50:25.395Z"}
{"level":"info","message":"Processing : DELETE on : /photos/badId","timestamp":"2017-12-29T05:50:25.426Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.429Z"}
{"message":"Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"photo\"","stack":"CastError: Cast to ObjectId failed for value \"badId\" at path \"_id\" for model \"photo\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOneAndRemove (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:2248:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"badId\"","kind":"ObjectId","value":"badId","path":"_id","level":"info","timestamp":"2017-12-29T05:50:25.429Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-29T05:50:25.430Z"}
{"level":"info","message":"Processing : DELETE on : /photos/5a45d7a1cd5f7e7e7f60e3c5","timestamp":"2017-12-29T05:50:25.457Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.458Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:50:25.458Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:50:25.459Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:50:25.462Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:50:25.714Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:50:25.811Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:50:25.835Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.835Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:21:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:50:25.835Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:50:25.837Z"}
{"level":"info","message":"Processing : POST on : /friends","timestamp":"2017-12-29T05:50:25.842Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.842Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:50:25.842Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:50:25.843Z"}
{"level":"info","message":"Processing : GET on : /friends/5a45d7a1e6d3f97e7fb5c581","timestamp":"2017-12-29T05:50:25.874Z"}
{"level":"info","message":"Processing : GET on : /friends/notAnId","timestamp":"2017-12-29T05:50:25.906Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.908Z"}
{"message":"Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"","stack":"CastError: Cast to ObjectId failed for value \"notAnId\" at path \"_id\" for model \"friend\"\n    at new CastError (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/error/cast.js:27:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:158:13)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1088:15)\n    at ObjectId.Object.<anonymous>.ObjectId.castForQuery (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schema/objectid.js:198:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/schematype.js:1045:15)\n    at cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/cast.js:269:32)\n    at model.Query.Object.<anonymous>.Query.cast (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:3302:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1292:10)\n    at model.Query.Object.<anonymous>.Query._findOne (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/mongoose/lib/query.js:1504:8)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:250:8\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/kareem/index.js:23:7\n    at _combinedTickCallback (internal/process/next_tick.js:131:7)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"CastError","stringValue":"\"notAnId\"","kind":"ObjectId","value":"notAnId","path":"_id","level":"info","timestamp":"2017-12-29T05:50:25.908Z"}
{"level":"info","message":"Responding with a 404 status code","timestamp":"2017-12-29T05:50:25.909Z"}
{"level":"info","message":"Processing : GET on : /friends/5a45d7a1e6d3f97e7fb5c585","timestamp":"2017-12-29T05:50:25.936Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:25.936Z"}
{"message":"jwt malformed","stack":"JsonWebTokenError: jwt malformed\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/jsonwebtoken/verify.js:49:17)\n    at Promise (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:10:13)\n    at new Promise (<anonymous>)\n    at args (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:9:12)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/bearer-auth-middleware.js:27:40)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:354:14)\n    at param (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:410:3)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:635:15\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:260:14)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"JsonWebTokenError","expose":true,"statusCode":401,"status":401,"level":"info","timestamp":"2017-12-29T05:50:25.936Z"}
{"level":"info","message":"Responding with a 401 status and message: jwt malformed","timestamp":"2017-12-29T05:50:25.937Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:50:25.940Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T05:50:26.148Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:50:26.152Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:50:26.184Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:26.184Z"}
{"message":"Username, email, and password are required in order to create an account","stack":"BadRequestError: Username, email, and password are required in order to create an account\n    at Object.<anonymous>.authRouter.post (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/route/auth-router.js:14:11)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/body-parser/lib/read.js:130:5\n    at invokeCallback (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:224:16)\n    at done (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickDomainCallback (internal/process/next_tick.js:218:9)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:50:26.184Z"}
{"level":"info","message":"Responding with a 400 status and message: Username, email, and password are required in order to create an account","timestamp":"2017-12-29T05:50:26.185Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T05:50:26.221Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:26.242Z"}
{"code":11000,"index":0,"errmsg":"E11000 duplicate key error collection: testing.accounts index: username_1 dup key: { : \"Magnus9\" }","op":{"username":"Magnus9","email":"anotherthing@gmail.com","passwordHash":"$2a$08$ZSiuuyksejUSJcvo90I.eOT9jGNspL/FZJM7xFnTSYaUn6BoIk1C6","tokenSeed":"ef3b6d501c7f17cde0f886ad64f885415634a8872998bd3b07669e191628bcc2ef92c5d7742444c55f6a7a62fa5417ea18533d1370d727183109804a3382a997","_id":"5a45d7a2013b5a7e7fd36c01","created":"2017-12-29T05:50:26.240Z","__v":0}}
{"level":"info","message":"responding with a 409 status code","timestamp":"2017-12-29T05:50:26.244Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:50:26.269Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:50:26.297Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:26.297Z"}
{"message":"BAD REQUEST: authorization header is required","stack":"BadRequestError: BAD REQUEST: authorization header is required\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/basic-auth-middleware.js:8:17)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at router (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Object.<anonymous>.module.exports (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/logger-middleware.js:8:10)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at expressInit (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/init.js:40:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at query (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/middleware/query.js:45:5)\n    at Layer.handle [as handle_request] (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:317:13)\n    at /Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:335:12)\n    at next (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/router/index.js:174:3)\n    at Function.handle (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/application.js:174:10)\n    at Server.app (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/node_modules/express/lib/express.js:39:9)\n    at Server.emit (events.js:159:13)\n    at parserOnIncoming (_http_server.js:619:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:117:23)","name":"BadRequestError","level":"info","timestamp":"2017-12-29T05:50:26.297Z"}
{"level":"info","message":"Responding with a 400 status and message: BAD REQUEST: authorization header is required","timestamp":"2017-12-29T05:50:26.298Z"}
{"level":"info","message":"Processing : GET on : /login","timestamp":"2017-12-29T05:50:26.324Z"}
{"level":"info","message":"__ERROR_MIDDLEWARE__","timestamp":"2017-12-29T05:50:26.325Z"}
{"message":"NOT FOUND","stack":"NotFoundError: NOT FOUND\n    at Account.findOne.then.account (/Users/shannondillon/codefellows/401js/lab/day17/16-19-auth/lib/basic-auth-middleware.js:24:19)\n    at <anonymous>\n    at process._tickDomainCallback (internal/process/next_tick.js:228:7)","name":"NotFoundError","level":"info","timestamp":"2017-12-29T05:50:26.325Z"}
{"level":"info","message":"Responding with a 404 status and message: NOT FOUND","timestamp":"2017-12-29T05:50:26.325Z"}
{"level":"info","message":"Turning the server off","timestamp":"2017-12-29T05:50:26.328Z"}
{"level":"info","message":"Server is listening on port undefined","timestamp":"2017-12-29T06:01:35.706Z"}
{"level":"info","message":"Server is listening on port 3000","timestamp":"2017-12-29T06:18:44.159Z"}
{"level":"info","message":"Processing : POST on : /signup","timestamp":"2017-12-29T06:18:49.370Z"}
